"use strict";function Body(t,i,o){this.coords=i,this.mass=t,this.radius=this.mass*SIZE_MULTIPLIER/2,this.isRepeller=o,this.fillStyle="rgb(0,"+Math.round(100+155*Math.random())+","+Math.round(100+155*Math.random())+")",this.createEl=function(){this.draw()},this.draw=function(){ctx.fillStyle=this.fillStyle,ctx.beginPath(),ctx.arc(this.coords.x,this.coords.y,this.radius,0,2*Math.PI,!1),ctx.fill()},this.createEl()}function FixedBody(t,i,o){Body.call(this,t,i,o),this.update=function(){this.draw()}}function MovableBody(t,i,o,a){Body.call(this,t,i,a),this.velocity=o,this.calcDistanceFrom=function(t){var i={};return i.x=this.coords.x-t.coords.x,i.y=this.coords.y-t.coords.y,i.total=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),i},this.calcForceFromOther=function(t){var i={},o=this.calcDistanceFrom(t);return i.total=gravity*this.mass*t.mass/Math.pow(o.total,2),i.direction=Math.atan2(o.y,o.x),i.directionDegs=180*i.direction/Math.PI,i},this.update=function(){var t=!0,i=!1,o=void 0;try{for(var a,e=fixedBodies[Symbol.iterator]();!(t=(a=e.next()).done);t=!0){var r=a.value,s=r,n=this.calcForceFromOther(s),c={};c.total=n.total/this.mass,c.x=-c.total*Math.cos(n.direction),c.x=s.isRepeller?-c.x:c.x,c.y=-c.total*Math.sin(n.direction),c.y=s.isRepeller?-c.y:c.y,this.velocity={x:this.velocity.x+c.x,y:this.velocity.y+c.y}}}catch(t){i=!0,o=t}finally{try{!t&&e.return&&e.return()}finally{if(i)throw o}}this.coords.x+=this.velocity.x,this.coords.y+=this.velocity.y,this.draw()}}function draw(){canvas=document.getElementById("field"),ctx=canvas.getContext("2d"),ctx.translate(500,500)}function updatePositions(){ctx.fillStyle="rgba(0, 0, 0, .04)",ctx.fillRect(-1e3,-1e3,2e3,2e3);var t=!0,i=!1,o=void 0;try{for(var a,e=fixedBodies[Symbol.iterator]();!(t=(a=e.next()).done);t=!0){var r=a.value;r.update()}}catch(t){i=!0,o=t}finally{try{!t&&e.return&&e.return()}finally{if(i)throw o}}var s=!0,n=!1,c=void 0;try{for(var l,d=movableBodies[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var h=l.value;h.update()}}catch(t){n=!0,c=t}finally{try{!s&&d.return&&d.return()}finally{if(n)throw c}}}var gravity=15,SIZE_MULTIPLIER=.5,canvas,ctx,fixedBodies=[],movableBodies=[],sun,sun2,sun3,earth,mars;$(document).ready(function(){fixedBodies.push(new FixedBody(30,{x:0,y:0},!1));for(var t=0;t<1;t++)for(var i=0;i<30;i++)movableBodies.push(new MovableBody(5,{x:5*t,y:300+3*i},{x:1,y:-1.3+2*Math.random()},!1));setInterval(function(){updatePositions()},5)}),document.addEventListener("DOMContentLoaded",function(t){draw()});