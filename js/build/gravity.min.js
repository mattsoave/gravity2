"use strict";function Body(i,e,s){var o=this;this.$el=$("<div></div>"),this.coords=e,this.mass=i,this.isRepeller=s,this.createEl=function(){this.$el.appendTo($("body")),this.$el.addClass("body"),this.$el.css({top:500-o.coords.y,left:500+o.coords.x,height:2*o.mass,width:2*o.mass})},this.createEl()}function FixedBody(i,e,s){Body.call(this,i,e,s),this.$el.addClass(s?"repeller":"sun")}function MovableBody(i,e,s,o){Body.call(this,i,e,o),this.$el.addClass("planet"),this.velocity=s,this.calcDistanceFrom=function(i){var e={};return e.x=this.coords.x-i.coords.x,e.y=this.coords.y-i.coords.y,e.total=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)),e},this.calcForceFromOther=function(i){var e={},s=this.calcDistanceFrom(i);return e.total=gravity*this.mass*i.mass/Math.pow(s.total,2),e.direction=Math.atan2(s.y,s.x),e.directionDegs=180*e.direction/Math.PI,e},this.update=function(){for(var i=0;i<fixedBodies.length;i++){var e=fixedBodies[i],s=this.calcForceFromOther(e),o={};o.total=s.total/this.mass,o.x=-o.total*Math.cos(s.direction),o.x=e.isRepeller?-o.x:o.x,o.y=-o.total*Math.sin(s.direction),o.y=e.isRepeller?-o.y:o.y,this.velocity={x:this.velocity.x+o.x,y:this.velocity.y+o.y}}this.coords.x+=this.velocity.x,this.coords.y+=this.velocity.y,this.$el.css({top:500-this.coords.y,left:500+this.coords.x})}}function updatePositions(){for(var i=0;i<movableBodies.length;i++)movableBodies[i].update()}var gravity=18,fixedBodies=[],movableBodies=[],sun,sun2,sun3,earth,mars;$(document).ready(function(){fixedBodies.push(new FixedBody(30,{x:-300,y:-300},!0)),fixedBodies.push(new FixedBody(30,{x:300,y:-300},!0)),fixedBodies.push(new FixedBody(30,{x:-300,y:300},!0)),fixedBodies.push(new FixedBody(30,{x:300,y:300},!0)),fixedBodies.push(new FixedBody(30,{x:450,y:0},!0)),fixedBodies.push(new FixedBody(30,{x:-450,y:0},!0)),fixedBodies.push(new FixedBody(30,{x:0,y:450},!0)),fixedBodies.push(new FixedBody(30,{x:0,y:-450},!0)),fixedBodies.push(new FixedBody(20,{x:0,y:0},!0));for(var i=0;i<20;i++)movableBodies.push(new MovableBody(5,{x:10*i,y:200},{x:1,y:-.5},!1));setInterval(function(){updatePositions()},5)});