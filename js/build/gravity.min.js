"use strict";function Body(t,i,e){this.coords=i,this.mass=t,this.radius=this.mass*SIZE_MULTIPLIER/2,console.log(this.radius),this.isRepeller=e,this.fillStyle="rgb(0,"+Math.round(100+155*Math.random())+","+Math.round(100+155*Math.random())+")",this.createEl=function(){this.draw()},this.draw=function(){ctx.fillStyle=this.fillStyle,ctx.beginPath(),ctx.arc(this.coords.x-this.radius,this.coords.y-this.radius,this.radius,0,2*Math.PI,!1),ctx.fill()},this.createEl()}function FixedBody(t,i,e){Body.call(this,t,i,e),this.update=function(){this.coords.x+=.1,this.coords.y+=.05}}function MovableBody(t,i,e,o){Body.call(this,t,i,o),this.velocity=e,this.calcDistanceFrom=function(t){var i={};return i.x=this.coords.x-t.coords.x,i.y=this.coords.y-t.coords.y,i.total=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)),i},this.calcForceFromOther=function(t){var i={},e=this.calcDistanceFrom(t);return i.total=gravity*this.mass*t.mass/Math.pow(e.total,2),i.direction=Math.atan2(e.y,e.x),i.directionDegs=180*i.direction/Math.PI,i},this.update=function(){var t=!0,i=!1,e=void 0;try{for(var o,a=fixedBodies[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value,n=r,s=this.calcForceFromOther(n),d={};d.total=s.total/this.mass,d.x=-d.total*Math.cos(s.direction),d.x=n.isRepeller?-d.x:d.x,d.y=-d.total*Math.sin(s.direction),d.y=n.isRepeller?-d.y:d.y,this.velocity={x:this.velocity.x+d.x,y:this.velocity.y+d.y}}}catch(t){i=!0,e=t}finally{try{!t&&a.return&&a.return()}finally{if(i)throw e}}this.coords.x+=this.velocity.x,this.coords.y+=this.velocity.y}}function initializeCanvas(){canvas=document.getElementById("field"),ctx=canvas.getContext("2d"),resizeCanvas()}function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,ctx.translate(window.innerWidth/2,window.innerHeight/2),ctx.imageSmoothingEnabled=!0}function updatePositions(){var t=!0,i=!1,e=void 0;try{for(var o,a=fixedBodies[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value;r.update()}}catch(t){i=!0,e=t}finally{try{!t&&a.return&&a.return()}finally{if(i)throw e}}var n=!0,s=!1,d=void 0;try{for(var l,c=movableBodies[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value;h.update()}}catch(t){s=!0,d=t}finally{try{!n&&c.return&&c.return()}finally{if(s)throw d}}}function redraw(){var t=!0,i=!1,e=void 0;try{for(var o,a=fixedBodies[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var r=o.value;r.draw()}}catch(t){i=!0,e=t}finally{try{!t&&a.return&&a.return()}finally{if(i)throw e}}var n=!0,s=!1,d=void 0;try{for(var l,c=movableBodies[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var h=l.value;h.draw()}}catch(t){s=!0,d=t}finally{try{!n&&c.return&&c.return()}finally{if(s)throw d}}}var gravity=20,FPS=200,SIZE_MULTIPLIER=.6,canvas,ctx,fixedBodies=[],movableBodies=[],sun,sun2,sun3,earth,mars;$(document).ready(function(){fixedBodies.push(new FixedBody(30,{x:0,y:0},!1));for(var t=0;t<1;t++)for(var i=0;i<1;i++)movableBodies.push(new MovableBody(5,{x:5*t,y:300+3*i},{x:1+.2*(t/20),y:-1+1*(i/30)},!1));setInterval(function(){updatePositions()},1e3/FPS),setInterval(function(){redraw()},1e3/FPS)}),document.addEventListener("DOMContentLoaded",function(t){initializeCanvas()}),window.addEventListener("resize",resizeCanvas,!1);var saves={twoAttractors1:function(){fixedBodies.push(new FixedBody(30,{x:0,y:0},!1)),fixedBodies.push(new FixedBody(10,{x:-300,y:-300},!1));for(var t=0;t<1;t++)for(var i=0;i<30;i++)movableBodies.push(new MovableBody(5,{x:5*t,y:300+3*i},{x:1+.2*(t/20),y:-1+1*(i/30)},!1))},attractorAndRepeller:function(){fixedBodies.push(new FixedBody(30,{x:0,y:0},!1)),fixedBodies.push(new FixedBody(10,{x:-300,y:-300},!0));for(var t=0;t<1;t++)for(var i=0;i<30;i++)movableBodies.push(new MovableBody(5,{x:5*t,y:300+3*i},{x:1+.2*(t/20),y:-1+1*(i/30)},!1))}};